/*
    jQuery Masked Input Plugin
    Copyright (c) 2007 - 2014 Josh Bush (digitalbush.com)
    Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
    Version: 1.3.1
*/
!function(a){function b(){var a=document.createElement("input"),b="onpaste";return a.setAttribute(b,""),"function"==typeof a[b]?"paste":"input"}var c,d=b()+".mask",e=navigator.userAgent,f=/iphone/i.test(e),g=/chrome/i.test(e),h=/android/i.test(e);a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},a.fn.extend({caret:function(a,b){var c;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof a?(b="number"==typeof b?b:a,this.each(function(){this.setSelectionRange?this.setSelectionRange(a,b):this.createTextRange&&(c=this.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())})):(this[0].setSelectionRange?(a=this[0].selectionStart,b=this[0].selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length),{begin:a,end:b})},unmask:function(){return this.trigger("unmask")},mask:function(b,e){var i,j,k,l,m,n;return!b&&this.length>0?(i=a(this[0]),i.data(a.mask.dataName)()):(e=a.extend({autoclear:a.mask.autoclear,placeholder:a.mask.placeholder,completed:null},e),j=a.mask.definitions,k=[],l=n=b.length,m=null,a.each(b.split(""),function(a,b){"?"==b?(n--,l=a):j[b]?(k.push(new RegExp(j[b])),null===m&&(m=k.length-1)):k.push(null)}),this.trigger("unmask").each(function(){function i(a){for(;++a<n&&!k[a];);return a}function o(a){for(;--a>=0&&!k[a];);return a}function p(a,b){var c,d;if(!(0>a)){for(c=a,d=i(b);n>c;c++)if(k[c]){if(!(n>d&&k[c].test(y[d])))break;y[c]=y[d],y[d]=e.placeholder,d=i(d)}v(),x.caret(Math.max(m,a))}}function q(a){var b,c,d,f;for(b=a,c=e.placeholder;n>b;b++)if(k[b]){if(d=i(b),f=y[b],y[b]=c,!(n>d&&k[d].test(f)))break;c=f}}function r(){w(),x.val()!=A&&x.change()}function s(a){var b,c,d,e=a.which||a.keyCode;8===e||46===e||f&&127===e?(b=x.caret(),c=b.begin,d=b.end,d-c===0&&(c=46!==e?o(c):d=i(c-1),d=46===e?i(d):d),u(c,d),p(c,d-1),a.preventDefault()):13===e?r.call(this,a):27===e&&(x.val(A),x.caret(0,w()),a.preventDefault())}function t(b){var c,d,f,g=b.which||b.keyCode,j=x.caret();if(0==g){if(j.begin>=n)return x.val(x.val().substr(0,n)),b.preventDefault(),!1;j.begin==j.end&&(g=x.val().charCodeAt(j.begin-1),j.begin--,j.end--)}if(!(b.ctrlKey||b.altKey||b.metaKey||32>g)&&g&&13!==g){if(j.end-j.begin!==0&&(u(j.begin,j.end),p(j.begin,j.end-1)),c=i(j.begin-1),n>c&&(d=String.fromCharCode(g),k[c].test(d))){if(q(c),y[c]=d,v(),f=i(c),h){var l=function(){a.proxy(a.fn.caret,x,f)()};setTimeout(l,0)}else x.caret(f);e.completed&&f>=n&&e.completed.call(x)}b.preventDefault()}}function u(a,b){var c;for(c=a;b>c&&n>c;c++)k[c]&&(y[c]=e.placeholder)}function v(){x.val(y.join("").trim())}function w(a){var b,c,d,f=x.val(),g=-1;for(b=0,d=0;n>b;b++)if(k[b]){for(y[b]=e.placeholder;d++<f.length;)if(c=f.charAt(d-1),k[b].test(c)){y[b]=c,g=b;break}if(d>f.length){u(b+1,n);break}}else y[b]===f.charAt(d)&&b!==l&&(d++,g=b);return a?v():l>g+1?e.autoclear||y.join("")===z?(x.val()&&x.val(""),u(0,n)):v():(v(),x.val(x.val().substring(0,g+1))),l?b:m}var x=a(this),y=a.map(b.split(""),function(a){return"?"!=a?j[a]?e.placeholder:a:void 0}),z=y.join(""),A=x.val();x.data(a.mask.dataName,function(){return a.map(y,function(a,b){return k[b]&&a!=e.placeholder?a:null}).join("")}),x.attr("readonly")||x.one("unmask",function(){x.off(".mask").removeData(a.mask.dataName)}).on("focus.mask",function(){clearTimeout(c);var a;A=x.val(),a=w(),c=setTimeout(function(){v(),a==b.replace("?","").length?x.caret(0,a):x.caret(a)},10)}).on("blur.mask",r).on("keydown.mask",s).on("keypress.mask",t).on(d,function(){setTimeout(function(){var a=w(!0);x.caret(a),e.completed&&a==x.val().length&&e.completed.call(x)},0)}),g&&h&&x.on("keyup.mask",t),w()}))}})}(jQuery);